<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>My Profile - ScrubIt Admin</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
        
        <style>
            /* Add custom colors or any shared styles from employee-profile.html here for consistency */
            .bg-custom-blue { background-color: #3f51b5; }
            .bg-custom-green { background-color: #00897b; }
            /* ... other custom colors ... */
            .bg-custom-purple { background-color: #673ab7; }
            .bg-custom-red { background-color: #e53935; } 
        </style>
    </head>

    <body class="flex h-screen" id="app-container">
        <div id="nav-placeholder"></div> 
        
        <div class="flex-grow flex flex-col overflow-hidden">
            
            <header class="p-4 md:p-8 pb-0">
                <h1 class="text-3xl font-extrabold text-gray-800">My Profile</h1>
                <nav class="text-sm text-gray-500 mt-1 mb-4" aria-label="breadcrumb">
                    <ol class="flex space-x-2">
                        <li><a href="dashboard.html" class="hover:text-custom-blue">Home</a></li>
                        <li class="text-gray-400">/</li>
                        <li class="font-semibold text-gray-700">My Profile</li>
                    </ol>
                </nav>
                <div class="h-px bg-gray-200 mt-4 mb-6"></div>
            </header>
            
            <div id="main-content" class="flex-grow px-4 md:px-8 overflow-y-auto">
                
                <div class="max-w-3xl mx-auto">
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-xl">
                        
                        <div id="status-message" class="hidden p-3 mb-4 rounded-lg font-medium"></div>

                        <div class="flex items-center space-x-6 mb-8 border-b pb-6">
                            <div class="relative w-24 h-24">
                                <img id="profile-image" src="https://via.placeholder.com/150/3f51b5/ffffff?text=AD" alt="Profile Picture" class="rounded-full object-cover w-full h-full border-4 border-custom-blue shadow-lg">
                                <button id="upload-button" onclick="document.getElementById('file-upload').click();" class="absolute bottom-0 right-0 p-1 bg-gray-100 rounded-full border border-gray-300 hover:bg-gray-200 transition-colors">
                                    <i class="fa-solid fa-camera text-custom-blue"></i>
                                </button>
                                <input type="file" id="file-upload" accept="image/*" class="hidden" onchange="uploadProfilePicture(event)">
                            </div>
                            <div>
                                <p class="text-xl font-bold text-gray-800" id="profile-name-display">Loading Name...</p>
                                <p class="text-sm text-gray-500" id="profile-id-display">ID: AD-XXX</p>
                            </div>
                        </div>

                        <form id="profile-form" onsubmit="event.preventDefault(); saveProfile('details');">
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">Personal Details</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                
                                <div>
                                    <label for="user-id" class="block text-sm font-medium text-gray-700">Admin ID</label>
                                    <input type="text" id="user-id" name="user-id" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 bg-gray-100 cursor-not-allowed" readonly>
                                </div>
                                
                                <div>
                                    <label for="full-name" class="block text-sm font-medium text-gray-700">Full Name <span class="text-red-500">*</span></label>
                                    <input type="text" id="full-name" name="full-name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-custom-blue focus:border-custom-blue" placeholder="John Smith">
                                </div>
                            </div>

                            <div class="mb-6">
                                <label for="email" class="block text-sm font-medium text-gray-700">Email Address <span class="text-red-500">*</span></label>
                                <input type="email" id="email" name="email" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-custom-blue focus:border-custom-blue" placeholder="john@scrubit.com">
                            </div>

                            <div class="flex justify-end pt-4 border-t">
                                <button type="submit" id="save-details-button" class="flex items-center text-sm px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-lg hover:bg-indigo-600 transition-colors">
                                    <i class="fa-solid fa-cloud-arrow-up mr-2"></i> Save Details
                                </button>
                            </div>
                        </form>
                        
                        <form id="password-form" onsubmit="event.preventDefault(); saveProfile('password');" class="mt-8 pt-6 border-t border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">Change Password</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label for="old-password" class="block text-sm font-medium text-gray-700">Current Password <span class="text-red-500">*</span></label>
                                    <input type="password" id="old-password" name="old-password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-custom-blue focus:border-custom-blue">
                                </div>
                                <div>
                                    <label for="new-password" class="block text-sm font-medium text-gray-700">New Password <span class="text-red-500">*</span></label>
                                    <input type="password" id="new-password" name="new-password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-custom-blue focus:border-custom-blue">
                                </div>
                            </div>

                            <div class="flex justify-end pt-4">
                                <button type="submit" id="change-password-button" class="flex items-center text-sm px-6 py-3 bg-custom-purple text-white rounded-lg shadow-lg hover:bg-fuchsia-600 transition-colors">
                                    <i class="fa-solid fa-lock mr-2"></i> Change Password
                                </button>
                            </div>
                        </form>


                        <div class="mt-8 pt-6 border-t border-gray-200">
                            <h4 class="text-lg font-semibold text-gray-700 mb-3">Session</h4>
                            <button onclick="logoutAdmin()" class="flex items-center text-sm px-4 py-2 bg-custom-red text-white rounded-lg shadow-md hover:bg-red-600 transition-colors">
                                <i class="fa-solid fa-right-from-bracket mr-2"></i> Log Out
                            </button>
                        </div>

                    </div>
                </div>
                </div>
        </div>

        <script src="js/sidebar.js"></script> 
        <script src="js/admin-profile.js"></script>
    </body>
</html>